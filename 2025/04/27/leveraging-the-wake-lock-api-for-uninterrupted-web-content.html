<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Leveraging the Wake Lock API for uninterrupted web content | J. Gulan</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://jgulan.dev/2025/04/27/leveraging-the-wake-lock-api-for-uninterrupted-web-content"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Leveraging the Wake Lock API for uninterrupted web content | J. Gulan"><meta data-rh="true" name="description" content="It is a familiar frustration: following a recipe or assembly instructions on a mobile device, only to have the screen dim mid-task. Needing to"><meta data-rh="true" property="og:description" content="It is a familiar frustration: following a recipe or assembly instructions on a mobile device, only to have the screen dim mid-task. Needing to"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-04-27T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="engineering"><meta data-rh="true" name="robots" content="noindex, nofollow"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://jgulan.dev/2025/04/27/leveraging-the-wake-lock-api-for-uninterrupted-web-content"><link data-rh="true" rel="alternate" href="https://jgulan.dev/2025/04/27/leveraging-the-wake-lock-api-for-uninterrupted-web-content" hreflang="en"><link data-rh="true" rel="alternate" href="https://jgulan.dev/2025/04/27/leveraging-the-wake-lock-api-for-uninterrupted-web-content" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://jgulan.dev/2025/04/27/leveraging-the-wake-lock-api-for-uninterrupted-web-content","mainEntityOfPage":"https://jgulan.dev/2025/04/27/leveraging-the-wake-lock-api-for-uninterrupted-web-content","url":"https://jgulan.dev/2025/04/27/leveraging-the-wake-lock-api-for-uninterrupted-web-content","headline":"Leveraging the Wake Lock API for uninterrupted web content","name":"Leveraging the Wake Lock API for uninterrupted web content","description":"It is a familiar frustration: following a recipe or assembly instructions on a mobile device, only to have the screen dim mid-task. Needing to","datePublished":"2025-04-27T00:00:00.000Z","author":[],"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://jgulan.dev/","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="J. Gulan RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="J. Gulan Atom Feed"><link rel="stylesheet" href="/assets/css/styles.510e0584.css">
<script src="/assets/js/runtime~main.25a7a5f1.js" defer="defer"></script>
<script src="/assets/js/main.e7b19549.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Ammonite fractal" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Ammonite fractal" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Jan Gulan</b></a><a class="navbar__item navbar__link" href="/pages/about">About</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/archive">Archive</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/2025/04/27/leveraging-the-wake-lock-api-for-uninterrupted-web-content">Leveraging the Wake Lock API for uninterrupted web content</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2025/04/19/llms-and-an-optimistic-take-on-the-future-of-software-engineering">LLMs and an optimistic take on the future of software engineering</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2024/02/27/chruby-error">&#x27;Command not found&#x27; when running chruby</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2023/01/25/image-noise-reduction-using-dxo-photolab">Image noise reduction using DxO PhotoLab</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2023/01/15/detecting-regression-commits-using-git-bisect">Detecting regression commits using git bisect</a></li></ul></div></nav></aside><main class="col col--7"><div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning theme-unlisted-banner"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Unlisted page</div><div class="admonitionContent_BuS1">This page is unlisted. Search engines will not index it, and only users having a direct link can access it.</div></div><article class=""><header><h1 class="title_f1Hy">Leveraging the Wake Lock API for uninterrupted web content</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-04-27T00:00:00.000Z">April 27, 2025</time> · <!-- -->4 min read</div></header><div id="__blog-post-container" class="markdown"><p>It is a familiar frustration: following a recipe or assembly instructions on a mobile device, only to have the screen dim mid-task. Needing to
regularly tap the screen just to keep it active disrupts your flow, particularly if your hands are full. Temporarily adjusting the system-wide
screen timeout is not convenient either.</p>
<p>Fortunately, the Screen Wake Lock API provides a solution, at least for in-browser content. The API was developed through collaboration between
the Chrome team and the Web Platform Incubator Community Group (WICG) and is part of the web standards. It offers a great improvement over the
previously common and hacky solutions that involved embedding a silent audio file or perhaps a hidden video file within a page to trick the browser
into maintaining focus. Despite being broadly supported by modern web browsers, the API is generally slept on, not being used by many of the websites
that would benefit from it.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-to">How to<a href="#how-to" class="hash-link" aria-label="Direct link to How to" title="Direct link to How to">​</a></h4>
<p>Older browser versions will not support the Wake Lock API and it is also only available when HTTPS is being used. Therefore, it is
worth checking for support before attempting to obtain the lock, or even showing the user the option to do so.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// Query the Navigator interface for Wake Lock availability.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> isSupported </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;wakeLock&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">navigator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Assuming the feature is availabile, we can proceed to attempt to obtain the wake lock. Even if the feature is available,
the browser may still refuse to honour the request if perhaps the device&#x27;s battery is low, and so it is worth wrapping the
following in a try-catch statement.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> wakeLock </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">navigator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">wakeLock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;screen&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>request</code> method returns an instance of WakeLockSentinel. To release the wake lock, simply call <code>wakeLock.release()</code>.</p>
<p>Note that the wake lock will also be automatically released if in certain cases, like if the user switches tabs, so I
would recommend configuring an event listener for the the WakeLockSentinel&#x27;s &quot;release&quot; event.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>Wrapping this all up along with HTML and CSS for presentation, let&#x27;s create a React component for fun, <a href="https://github.com/jg23497/react-wake-lock-toggle" target="_blank" rel="noopener noreferrer">react-wake-lock-toggle</a>,
and distribute it as an <a href="https://www.npmjs.com/package/@jgulan/react-wake-lock-toggle" target="_blank" rel="noopener noreferrer">NPM package</a>. We can use it like so, providing a label of our choice:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">&lt;</span><span class="token maybe-class-name">WakeLockToggle</span><span class="token plain"> label</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Prevent screen timeout&quot;</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Credit to <a href="https://alvaromontoro.com/blog/68017/creating-a-css-only-toggle-switch" target="_blank" rel="noopener noreferrer">Alvaro Montoro</a> for thoughts on creating
accessible and semantic toggle switches, which I incorporate here. With this approach, we use a checkbox with the &quot;switch&quot; role, correctly providing
two states rather than three (a regular checkbox can be unchecked, checked and indeterminate). The element is printable, can be tabbed to and toggled
using the keyboard, and screen readers will correctly read aloud <code>label</code> followed by the <code>state</code>, e.g &quot;Prevent screen timeout on&quot;.</p>
<p>My favourite homemade pizza dough recipe follows, made easier to read using our new React component. While we are here,
we can also allow the user to dynamically scale the ingredients according to their preference (we are building on React foundations after all).</p>
<div style="border:1px solid #ccc;padding:1em;border-radius:10px"><div></div><div><div id="scale-selection"><label><span>Scale</span><select name="scale" class="scale-select"><option value="1" selected="">Original</option><option value="0.5">Half</option><option value="2">Double</option><option value="3">Triple</option><option value="4">4x</option></select></label></div><hr><div id="recipe"><section class="section"><h2>Pizza dough</h2><ul><li>500<!-- --> <!-- -->gram(s)<!-- --> <!-- -->plan white flour<div><i>ideally type 00</i></div></li><li>1<!-- --> <!-- -->tsp(s)<!-- --> <!-- -->salt</li><li>4<!-- --> <!-- -->gram(s)<!-- --> <!-- -->fast-action dried yeast</li><li>280<!-- --> <!-- -->millilitre(s)<!-- --> <!-- -->warm water</li><li>2<!-- --> <!-- -->teaspoon(s)<!-- --> <!-- -->olive oil<div><i>preferably extra virgin</i></div></li></ul></section></div></div><p>Steps:</p><ol>
<li>Mix flour, salt, yeast.</li>
<li>Add water, oil; mix, knead for around 5 minutes.</li>
<li>Allow to rise for ideally for 1-2 hours.</li>
<li>Shape, add sauce and toppings then bake at a high temperature.</li>
</ol></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h4>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/WakeLock" target="_blank" rel="noopener noreferrer">MDN Web Docs: WakeLock</a></li>
<li><a href="https://developer.chrome.com/docs/capabilities/web-apis/wake-lock" target="_blank" rel="noopener noreferrer">Chrome Developer Documentation: Stay awake with the Screen Wake Lock API</a></li>
<li><a href="https://alvaromontoro.com/blog/68017/creating-a-css-only-toggle-switch" target="_blank" rel="noopener noreferrer">Alvaro Montoro: Creating a CSS-Only Toggle Switch</a></li>
</ul></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/engineering">engineering</a></li></ul></div></div></footer></article></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"></div></div></div></div></div></div>
</body>
</html>
"use strict";(self.webpackChunkjgulan=self.webpackChunkjgulan||[]).push([[489],{4345:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>m,contentTitle:()=>s,default:()=>f,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var n=r(5893),a=r(3905),i=r(6238),o=r(2098);const l={title:"Detecting Regression Commits Using git bisect",tags:["engineering"]},s=void 0,c={permalink:"/2023/01/15/detecting-regression-commits-using-git-bisect",source:"@site/blog/2023/01-15-detecting-regression-commits-using-git-bisect/index.mdx",title:"Detecting Regression Commits Using git bisect",description:"Locating the commit that introduced a regression, or some undesirable change, in a codebase can be difficult. Locating the same in a frequently-changing codebase with a large number of contributors is harder again.",date:"2023-01-15T00:00:00.000Z",formattedDate:"January 15, 2023",tags:[{label:"engineering",permalink:"/tags/engineering"}],readingTime:1.47,hasTruncateMarker:!1,authors:[],frontMatter:{title:"Detecting Regression Commits Using git bisect",tags:["engineering"]},unlisted:!1,prevItem:{title:"Image Noise Reduction Using DxO PhotoLab",permalink:"/2023/01/25/image-noise-reduction-using-dxo-photolab"}},m={authorsImageUrls:[]},d=[];function h(e){const t={a:"a",code:"code",li:"li",ol:"ol",p:"p",...(0,a.ah)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"Locating the commit that introduced a regression, or some undesirable change, in a codebase can be difficult. Locating the same in a frequently-changing codebase with a large number of contributors is harder again."}),"\n",(0,n.jsxs)(t.p,{children:["Fortunately ",(0,n.jsx)(t.a,{href:"https://git-scm.com/docs/git-bisect",children:(0,n.jsx)(t.code,{children:"git bisect"})})," provides a helpful tool for doing precisely this. Rather than performing a linear search of the commits, ",(0,n.jsx)(t.code,{children:"git bisect"})," uses a clever binary search algorithm to locate the offending commit far more efficiently."]}),"\n",(0,n.jsx)("div",{class:"center with-margin",children:(0,n.jsx)(i.Z,{className:o.Z.bisect})}),"\n",(0,n.jsxs)(t.p,{children:["Having identified a commit from the past where the regression did not exist (e.g. ",(0,n.jsx)(t.code,{children:"git checkout"})," a commit from say a month ago), my typical usage of ",(0,n.jsx)(t.code,{children:"git bisect"})," is along the lines of:"]}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Check out the branch containing the regression and run ",(0,n.jsx)(t.code,{children:"git bisect start"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:["Label the good and bad commits: ",(0,n.jsx)(t.code,{children:"git bisect good <commit hash>"})," and ",(0,n.jsx)(t.code,{children:"git bisect bad <commit hash>"}),". The current commit is taken if the commit hash argument is omitted."]}),"\n",(0,n.jsxs)(t.li,{children:["Bisecting commences \u2014 a candidate commit is automatically checked out and the number of revisions left to test and number of remaining steps are printed.  You can run ",(0,n.jsx)(t.code,{children:"git bisect reset"})," to abort at any stage."]}),"\n",(0,n.jsxs)(t.li,{children:["Check whether the regression still exists, whether this involves running an automated test or taking manual replication steps. If the candidate commit contains the regression, run ",(0,n.jsx)(t.code,{children:"git bisect bad"}),", otherwise run ",(0,n.jsx)(t.code,{children:"git bisect good"}),". If any search area remains, another candidate commit is automatically checked out."]}),"\n",(0,n.jsx)(t.li,{children:"Repeat #4 until the bisecting process concludes and the bad commit's hash is listed."}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Given ",(0,n.jsx)(t.code,{children:"git bisect"}),"'s binary search technique, the number of steps required will only increase logarithmically as the number of commits increases \u2014 this is a time-saving tool that I turn to again and again."]})]})}function f(e={}){const{wrapper:t}={...(0,a.ah)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},3905:(e,t,r)=>{r.d(t,{ah:()=>c});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),h=c(r),f=a,p=h["".concat(s,".").concat(f)]||h[f]||m[f]||i;return r?n.createElement(p,o(o({ref:t},d),{},{components:r})):n.createElement(p,o({ref:t},d))}));d.displayName="MDXCreateElement"},6238:(e,t,r)=>{r.d(t,{Z:()=>L});var n,a,i,o,l,s,c,m,d,h,f,p,g,x,b,y,u,k,v,E,S,j,W,F,z,A,w,O,M,I,U,H,P,D,C,R,T=r(7294);function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B.apply(this,arguments)}const L=e=>{let{title:t,titleId:r,...L}=e;return T.createElement("svg",B({width:593.29,height:260.27,viewBox:"0 0 156.97 68.863",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},L),void 0===t?T.createElement("title",{id:r},"Git Bisect Visualisation"):t?T.createElement("title",{id:r},t):null,n||(n=T.createElement("defs",null,T.createElement("marker",{id:"a",overflow:"visible",markerHeight:6.155,markerWidth:5.324,orient:"auto-start-reverse",preserveAspectRatio:"xMidYMid",viewBox:"0 0 5.324 6.155"},T.createElement("path",{d:"M2.885 0-1.44 2.5v-5z",fill:"context-stroke",fillRule:"evenodd",stroke:"context-stroke",strokeWidth:".5pt"})))),a||(a=T.createElement("path",{fill:"#9b9b9b",d:"M-.002 0h156.84v68.612H-.002z"})),i||(i=T.createElement("g",{fill:"#1a1a1a",stroke:"#323232"},T.createElement("path",{d:"M79.658 57.627V25.93",strokeDasharray:"1.76709, 0.441771",strokeWidth:.444}),T.createElement("path",{d:"m51.04 57.627-.115-19.754",strokeDasharray:"1.68087, 0.420216",strokeWidth:.422}),T.createElement("path",{d:"M22.943 57.376V9.502M133.764 57.375V9.5",strokeWidth:.965}))),o||(o=T.createElement("g",{stroke:"#323232"},T.createElement("path",{d:"M97.649 24.312v1.522l-29.212.031.08 5.505",fill:"none",markerEnd:"url(#a)",strokeWidth:.507,transform:"translate(-18.006 -.533)"}),T.createElement("path",{d:"m68.518 33.251-.08 4.492 14.218-.08v18.324",fill:"none",markerEnd:"url(#a)",strokeWidth:.507,transform:"translate(-18.006 -.533)"}),T.createElement("path",{fill:"#d35f5f",strokeWidth:.2,d:"M54.891 41.174h18.875v10.568H54.891z"}))),l||(l=T.createElement("path",{fill:"#ffd42a",stroke:"#323232",strokeWidth:.166,d:"M16.257 2.004h13.286v7.389H16.257z"})),s||(s=T.createElement("text",{x:40.939,y:7.494,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:40.939,y:7.494,fontFamily:"'Segoe UI'"},"Good"))),c||(c=T.createElement("path",{fill:"#ffd42a",stroke:"#323232",strokeWidth:.166,d:"M81.906 17.697h13.286v7.389H81.906z"})),m||(m=T.createElement("text",{x:106.566,y:22.995,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:106.566,y:22.995,fontFamily:"'Segoe UI'"},"Bad"))),d||(d=T.createElement("path",{fill:"#ffd42a",stroke:"#323232",strokeWidth:.166,d:"M127.104 2.02h13.286v7.39h-13.286z"})),h||(h=T.createElement("text",{x:151.748,y:7.491,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:151.748,y:7.491,fontFamily:"'Segoe UI'"},"Bad"))),f||(f=T.createElement("text",{x:82.317,y:46.028,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:82.317,y:46.028},T.createElement("tspan",{x:82.317,y:46.028,fontFamily:"'Segoe UI'"},"First bad")),T.createElement("tspan",{x:82.317,y:50.437},"commit"))),p||(p=T.createElement("path",{fill:"#ffd42a",stroke:"#323232",strokeWidth:.166,d:"M35.048 27.114h13.286v7.389H35.048z"})),g||(g=T.createElement("text",{x:59.731,y:32.605,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:59.731,y:32.605,fontFamily:"'Segoe UI'"},"Good"))),x||(x=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M1.907 57.25h13.661v9.582H1.907z"})),b||(b=T.createElement("text",{x:26.875,y:63.842,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:26.875,y:63.842,fontFamily:"'Segoe UI'"},"1"))),y||(y=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M15.834 57.25h13.661v9.582H15.834z"})),u||(u=T.createElement("text",{x:40.71,y:63.842,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:40.71,y:63.842,fontFamily:"'Segoe UI'"},"2"))),k||(k=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M29.75 57.25h13.661v9.582H29.75z"})),v||(v=T.createElement("text",{x:54.593,y:63.82,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:54.593,y:63.82,fontFamily:"'Segoe UI'"},"3"))),E||(E=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M43.68 57.25h13.661v9.582H43.68z"})),S||(S=T.createElement("text",{x:68.579,y:63.837,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:68.579,y:63.837,fontFamily:"'Segoe UI'"},"4"))),j||(j=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M57.607 57.25h13.661v9.582H57.607z"})),W||(W=T.createElement("text",{x:82.441,y:63.798,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:82.441,y:63.798,fontFamily:"'Segoe UI'"},"5"))),F||(F=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M71.524 57.25h13.661v9.582H71.524z"})),z||(z=T.createElement("text",{x:96.375,y:63.821,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:96.375,y:63.821,fontFamily:"'Segoe UI'"},"6"))),A||(A=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M85.454 57.25h13.661v9.582H85.454z"})),w||(w=T.createElement("text",{x:110.286,y:63.821,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:110.286,y:63.821,fontFamily:"'Segoe UI'"},"7"))),O||(O=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M99.384 57.25h13.661v9.582H99.384z"})),M||(M=T.createElement("text",{x:124.223,y:63.821,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:124.223,y:63.821,fontFamily:"'Segoe UI'"},"8"))),I||(I=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M113.294 57.25h13.661v9.582h-13.661z"})),U||(U=T.createElement("text",{x:138.138,y:63.821,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:138.138,y:63.821,fontFamily:"'Segoe UI'"},"9"))),H||(H=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M127.224 57.25h13.661v9.582h-13.661z"})),P||(P=T.createElement("text",{x:151.955,y:63.821,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:151.955,y:63.821,fontFamily:"'Segoe UI'"},"10"))),D||(D=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M141.154 57.25h13.661v9.582h-13.661z"})),C||(C=T.createElement("text",{x:166.122,y:63.842,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:166.122,y:63.842,fontFamily:"'Segoe UI'"},"11"))),R||(R=T.createElement("path",{d:"M97.661 22.474V12.338",fill:"none",markerStart:"url(#a)",stroke:"#323232",strokeWidth:.457,transform:"translate(-18.006 -.533)"})))}},2098:(e,t,r)=>{r.d(t,{Z:()=>n});const n={bisect:"bisect_xRd9"}}}]);
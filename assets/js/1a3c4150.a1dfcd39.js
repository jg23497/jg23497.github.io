"use strict";(self.webpackChunkjgulan=self.webpackChunkjgulan||[]).push([[393],{857:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>m,contentTitle:()=>c,default:()=>f,frontMatter:()=>s,metadata:()=>n,toc:()=>d});var n=r(139),a=r(4848),i=r(8453),l=r(2728),o=r(3663);const s={title:"Detecting Regression Commits Using git bisect",tags:["engineering"]},c=void 0,m={authorsImageUrls:[]},d=[];function h(e){const t={a:"a",code:"code",li:"li",ol:"ol",p:"p",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"Locating the commit that introduced a regression, or some undesirable change, in a codebase can be difficult. Locating the same in a frequently-changing codebase with a large number of contributors is harder again."}),"\n",(0,a.jsxs)(t.p,{children:["Fortunately ",(0,a.jsx)(t.a,{href:"https://git-scm.com/docs/git-bisect",children:(0,a.jsx)(t.code,{children:"git bisect"})})," provides a helpful tool for doing precisely this. Rather than performing a linear search of the commits, ",(0,a.jsx)(t.code,{children:"git bisect"})," uses a clever binary search algorithm to locate the offending commit far more efficiently."]}),"\n",(0,a.jsx)("div",{class:"center with-margin",children:(0,a.jsx)(l.A,{className:o.A.bisect})}),"\n",(0,a.jsxs)(t.p,{children:["Having identified a commit from the past where the regression did not exist (e.g. ",(0,a.jsx)(t.code,{children:"git checkout"})," a commit from say a month ago), my typical usage of ",(0,a.jsx)(t.code,{children:"git bisect"})," is along the lines of:"]}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["Check out the branch containing the regression and run ",(0,a.jsx)(t.code,{children:"git bisect start"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:["Label the good and bad commits: ",(0,a.jsx)(t.code,{children:"git bisect good <commit hash>"})," and ",(0,a.jsx)(t.code,{children:"git bisect bad <commit hash>"}),". The current commit is taken if the commit hash argument is omitted."]}),"\n",(0,a.jsxs)(t.li,{children:["Bisecting commences \u2014 a candidate commit is automatically checked out and the number of revisions left to test and number of remaining steps are printed.  You can run ",(0,a.jsx)(t.code,{children:"git bisect reset"})," to abort at any stage."]}),"\n",(0,a.jsxs)(t.li,{children:["Check whether the regression still exists, whether this involves running an automated test or taking manual replication steps. If the candidate commit contains the regression, run ",(0,a.jsx)(t.code,{children:"git bisect bad"}),", otherwise run ",(0,a.jsx)(t.code,{children:"git bisect good"}),". If any search area remains, another candidate commit is automatically checked out."]}),"\n",(0,a.jsx)(t.li,{children:"Repeat #4 until the bisecting process concludes and the bad commit's hash is listed."}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["Given ",(0,a.jsx)(t.code,{children:"git bisect"}),"'s binary search technique, the number of steps required will only increase logarithmically as the number of commits increases \u2014 this is a time-saving tool that I turn to again and again."]})]})}function f(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},2728:(e,t,r)=>{r.d(t,{A:()=>V});var n,a,i,l,o,s,c,m,d,h,f,g,x,p,b,y,u,k,E,v,S,W,A,F,z,j,M,I,U,w,H,R,C,B,D,L,O=r(6540);function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(null,arguments)}const V=e=>{let{title:t,titleId:r,...V}=e;return O.createElement("svg",T({xmlns:"http://www.w3.org/2000/svg",width:593.29,height:260.27,viewBox:"0 0 156.97 68.863","aria-labelledby":r},V),void 0===t?O.createElement("title",{id:r},"Git Bisect Visualisation"):t?O.createElement("title",{id:r},t):null,n||(n=O.createElement("defs",null,O.createElement("marker",{id:"a",markerHeight:6.155,markerWidth:5.324,orient:"auto-start-reverse",overflow:"visible",preserveAspectRatio:"xMidYMid",viewBox:"0 0 5.324 6.155"},O.createElement("path",{fill:"context-stroke",fillRule:"evenodd",stroke:"context-stroke",strokeWidth:".5pt",d:"M2.885 0-1.44 2.5v-5z"})))),a||(a=O.createElement("path",{fill:"#9b9b9b",d:"M-.002 0h156.84v68.612H-.002z"})),i||(i=O.createElement("g",{fill:"#1a1a1a",stroke:"#323232"},O.createElement("path",{strokeDasharray:"1.76709, 0.441771",strokeWidth:.444,d:"M79.658 57.627V25.93"}),O.createElement("path",{strokeDasharray:"1.68087, 0.420216",strokeWidth:.422,d:"m51.04 57.627-.115-19.754"}),O.createElement("path",{strokeWidth:.965,d:"M22.943 57.376V9.502M133.764 57.375V9.5"}))),l||(l=O.createElement("g",{stroke:"#323232"},O.createElement("path",{fill:"none",strokeWidth:.507,markerEnd:"url(#a)",d:"M97.649 24.312v1.522l-29.212.031.08 5.505",transform:"translate(-18.006 -.533)"}),O.createElement("path",{fill:"none",strokeWidth:.507,markerEnd:"url(#a)",d:"m68.518 33.251-.08 4.492 14.218-.08v18.324",transform:"translate(-18.006 -.533)"}),O.createElement("path",{fill:"#d35f5f",strokeWidth:.2,d:"M54.891 41.174h18.875v10.568H54.891z"}))),o||(o=O.createElement("path",{fill:"#ffd42a",stroke:"#323232",strokeWidth:.166,d:"M16.257 2.004h13.286v7.389H16.257z"})),s||(s=O.createElement("text",{xmlSpace:"preserve",x:40.939,y:7.494,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:40.939,y:7.494,fontFamily:"'Segoe UI'"},"Good"))),c||(c=O.createElement("path",{fill:"#ffd42a",stroke:"#323232",strokeWidth:.166,d:"M81.906 17.697h13.286v7.389H81.906z"})),m||(m=O.createElement("text",{xmlSpace:"preserve",x:106.566,y:22.995,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:106.566,y:22.995,fontFamily:"'Segoe UI'"},"Bad"))),d||(d=O.createElement("path",{fill:"#ffd42a",stroke:"#323232",strokeWidth:.166,d:"M127.104 2.02h13.286v7.39h-13.286z"})),h||(h=O.createElement("text",{xmlSpace:"preserve",x:151.748,y:7.491,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:151.748,y:7.491,fontFamily:"'Segoe UI'"},"Bad"))),f||(f=O.createElement("text",{xmlSpace:"preserve",x:82.317,y:46.028,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:82.317,y:46.028},O.createElement("tspan",{x:82.317,y:46.028,fontFamily:"'Segoe UI'"},"First bad")),O.createElement("tspan",{x:82.317,y:50.437,fontFamily:"'Segoe UI'"},"commit"))),g||(g=O.createElement("path",{fill:"#ffd42a",stroke:"#323232",strokeWidth:.166,d:"M35.048 27.114h13.286v7.389H35.048z"})),x||(x=O.createElement("text",{xmlSpace:"preserve",x:59.731,y:32.605,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:59.731,y:32.605,fontFamily:"'Segoe UI'"},"Good"))),p||(p=O.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M1.907 57.25h13.661v9.582H1.907z"})),b||(b=O.createElement("text",{xmlSpace:"preserve",x:26.875,y:63.842,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:26.875,y:63.842,fontFamily:"'Segoe UI'"},"1"))),y||(y=O.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M15.834 57.25h13.661v9.582H15.834z"})),u||(u=O.createElement("text",{xmlSpace:"preserve",x:40.71,y:63.842,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:40.71,y:63.842,fontFamily:"'Segoe UI'"},"2"))),k||(k=O.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M29.75 57.25h13.661v9.582H29.75z"})),E||(E=O.createElement("text",{xmlSpace:"preserve",x:54.593,y:63.82,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:54.593,y:63.82,fontFamily:"'Segoe UI'"},"3"))),v||(v=O.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M43.68 57.25h13.661v9.582H43.68z"})),S||(S=O.createElement("text",{xmlSpace:"preserve",x:68.579,y:63.837,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:68.579,y:63.837,fontFamily:"'Segoe UI'"},"4"))),W||(W=O.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M57.607 57.25h13.661v9.582H57.607z"})),A||(A=O.createElement("text",{xmlSpace:"preserve",x:82.441,y:63.798,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:82.441,y:63.798,fontFamily:"'Segoe UI'"},"5"))),F||(F=O.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M71.524 57.25h13.661v9.582H71.524z"})),z||(z=O.createElement("text",{xmlSpace:"preserve",x:96.375,y:63.821,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:96.375,y:63.821,fontFamily:"'Segoe UI'"},"6"))),j||(j=O.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M85.454 57.25h13.661v9.582H85.454z"})),M||(M=O.createElement("text",{xmlSpace:"preserve",x:110.286,y:63.821,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:110.286,y:63.821,fontFamily:"'Segoe UI'"},"7"))),I||(I=O.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M99.384 57.25h13.661v9.582H99.384z"})),U||(U=O.createElement("text",{xmlSpace:"preserve",x:124.223,y:63.821,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:124.223,y:63.821,fontFamily:"'Segoe UI'"},"8"))),w||(w=O.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M113.294 57.25h13.661v9.582h-13.661z"})),H||(H=O.createElement("text",{xmlSpace:"preserve",x:138.138,y:63.821,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:138.138,y:63.821,fontFamily:"'Segoe UI'"},"9"))),R||(R=O.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M127.224 57.25h13.661v9.582h-13.661z"})),C||(C=O.createElement("text",{xmlSpace:"preserve",x:151.955,y:63.821,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:151.955,y:63.821,fontFamily:"'Segoe UI'"},"10"))),B||(B=O.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M141.154 57.25h13.661v9.582h-13.661z"})),D||(D=O.createElement("text",{xmlSpace:"preserve",x:166.122,y:63.842,fill:"#2e2e2e",strokeWidth:.507,fontFamily:"Arial",fontSize:3.528,textAnchor:"middle",transform:"translate(-18.006 -.533)"},O.createElement("tspan",{x:166.122,y:63.842,fontFamily:"'Segoe UI'"},"11"))),L||(L=O.createElement("path",{fill:"none",stroke:"#323232",strokeWidth:.457,markerStart:"url(#a)",d:"M97.661 22.474V12.338",transform:"translate(-18.006 -.533)"})))}},3663:(e,t,r)=>{r.d(t,{A:()=>n});const n={bisect:"bisect_xRd9"}},8453:(e,t,r)=>{r.d(t,{R:()=>l,x:()=>o});var n=r(6540);const a={},i=n.createContext(a);function l(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),n.createElement(i.Provider,{value:t},e.children)}},139:e=>{e.exports=JSON.parse('{"permalink":"/2023/01/15/detecting-regression-commits-using-git-bisect","source":"@site/blog/2023/01-15-detecting-regression-commits-using-git-bisect/index.mdx","title":"Detecting Regression Commits Using git bisect","description":"Locating the commit that introduced a regression, or some undesirable change, in a codebase can be difficult. Locating the same in a frequently-changing codebase with a large number of contributors is harder again.","date":"2023-01-15T00:00:00.000Z","tags":[{"inline":true,"label":"engineering","permalink":"/tags/engineering"}],"readingTime":1.47,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Detecting Regression Commits Using git bisect","tags":["engineering"]},"unlisted":false,"prevItem":{"title":"Image Noise Reduction Using DxO PhotoLab","permalink":"/2023/01/25/image-noise-reduction-using-dxo-photolab"}}')}}]);
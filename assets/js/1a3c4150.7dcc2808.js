"use strict";(self.webpackChunkjgulan=self.webpackChunkjgulan||[]).push([[231],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>p});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),m=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=m(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=m(r),h=n,p=d["".concat(s,".").concat(h)]||d[h]||f[h]||i;return r?a.createElement(p,o(o({ref:t},c),{},{components:r})):a.createElement(p,o({ref:t},c))}));function p(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:n,o[1]=l;for(var m=2;m<i;m++)o[m]=r[m];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}h.displayName="MDXCreateElement"},6238:(e,t,r)=>{r.d(t,{Z:()=>L});var a,n,i,o,l,s,m,c,d,f,h,p,g,y,u,b,k,x,v,E,S,W,F,z,A,w,O,M,I,C,N,j,U,H,P,D,T=r(7294);function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},R.apply(this,arguments)}const L=e=>{let{title:t,titleId:r,...L}=e;return T.createElement("svg",R({width:593.29,height:260.27,viewBox:"0 0 156.97 68.863",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},L),void 0===t?T.createElement("title",{id:r},"Git Bisect Visualisation"):t?T.createElement("title",{id:r},t):null,a||(a=T.createElement("defs",null,T.createElement("marker",{id:"a",overflow:"visible",markerHeight:6.155,markerWidth:5.324,orient:"auto-start-reverse",preserveAspectRatio:"xMidYMid",viewBox:"0 0 5.324 6.155"},T.createElement("path",{d:"M2.885 0-1.44 2.5v-5z",fill:"context-stroke",fillRule:"evenodd",stroke:"context-stroke",strokeWidth:".5pt"})))),n||(n=T.createElement("path",{fill:"#9b9b9b",d:"M-.002 0h156.84v68.612H-.002z"})),i||(i=T.createElement("g",{fill:"#1a1a1a",stroke:"#323232"},T.createElement("path",{d:"M79.658 57.627V25.93",strokeDasharray:"1.76709, 0.441771",strokeWidth:.444}),T.createElement("path",{d:"m51.04 57.627-.115-19.754",strokeDasharray:"1.68087, 0.420216",strokeWidth:.422}),T.createElement("path",{d:"M22.943 57.376V9.502M133.764 57.375V9.5",strokeWidth:.965}))),o||(o=T.createElement("g",{stroke:"#323232"},T.createElement("path",{d:"M97.649 24.312v1.522l-29.212.031.08 5.505",fill:"none",markerEnd:"url(#a)",strokeWidth:.507,transform:"translate(-18.006 -.533)"}),T.createElement("path",{d:"m68.518 33.251-.08 4.492 14.218-.08v18.324",fill:"none",markerEnd:"url(#a)",strokeWidth:.507,transform:"translate(-18.006 -.533)"}),T.createElement("path",{fill:"#d35f5f",strokeWidth:.2,d:"M54.891 41.174h18.875v10.568H54.891z"}))),l||(l=T.createElement("path",{fill:"#ffd42a",stroke:"#323232",strokeWidth:.166,d:"M16.257 2.004h13.286v7.389H16.257z"})),s||(s=T.createElement("text",{x:40.939,y:7.494,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:40.939,y:7.494,fontFamily:"'Segoe UI'"},"Good"))),m||(m=T.createElement("path",{fill:"#ffd42a",stroke:"#323232",strokeWidth:.166,d:"M81.906 17.697h13.286v7.389H81.906z"})),c||(c=T.createElement("text",{x:106.566,y:22.995,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:106.566,y:22.995,fontFamily:"'Segoe UI'"},"Bad"))),d||(d=T.createElement("path",{fill:"#ffd42a",stroke:"#323232",strokeWidth:.166,d:"M127.104 2.02h13.286v7.39h-13.286z"})),f||(f=T.createElement("text",{x:151.748,y:7.491,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:151.748,y:7.491,fontFamily:"'Segoe UI'"},"Bad"))),h||(h=T.createElement("text",{x:82.317,y:46.028,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:82.317,y:46.028},T.createElement("tspan",{x:82.317,y:46.028,fontFamily:"'Segoe UI'"},"First bad")),T.createElement("tspan",{x:82.317,y:50.437},"commit"))),p||(p=T.createElement("path",{fill:"#ffd42a",stroke:"#323232",strokeWidth:.166,d:"M35.048 27.114h13.286v7.389H35.048z"})),g||(g=T.createElement("text",{x:59.731,y:32.605,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:59.731,y:32.605,fontFamily:"'Segoe UI'"},"Good"))),y||(y=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M1.907 57.25h13.661v9.582H1.907z"})),u||(u=T.createElement("text",{x:26.875,y:63.842,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:26.875,y:63.842,fontFamily:"'Segoe UI'"},"1"))),b||(b=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M15.834 57.25h13.661v9.582H15.834z"})),k||(k=T.createElement("text",{x:40.71,y:63.842,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:40.71,y:63.842,fontFamily:"'Segoe UI'"},"2"))),x||(x=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M29.75 57.25h13.661v9.582H29.75z"})),v||(v=T.createElement("text",{x:54.593,y:63.82,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:54.593,y:63.82,fontFamily:"'Segoe UI'"},"3"))),E||(E=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M43.68 57.25h13.661v9.582H43.68z"})),S||(S=T.createElement("text",{x:68.579,y:63.837,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:68.579,y:63.837,fontFamily:"'Segoe UI'"},"4"))),W||(W=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M57.607 57.25h13.661v9.582H57.607z"})),F||(F=T.createElement("text",{x:82.441,y:63.798,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:82.441,y:63.798,fontFamily:"'Segoe UI'"},"5"))),z||(z=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M71.524 57.25h13.661v9.582H71.524z"})),A||(A=T.createElement("text",{x:96.375,y:63.821,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:96.375,y:63.821,fontFamily:"'Segoe UI'"},"6"))),w||(w=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M85.454 57.25h13.661v9.582H85.454z"})),O||(O=T.createElement("text",{x:110.286,y:63.821,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:110.286,y:63.821,fontFamily:"'Segoe UI'"},"7"))),M||(M=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M99.384 57.25h13.661v9.582H99.384z"})),I||(I=T.createElement("text",{x:124.223,y:63.821,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:124.223,y:63.821,fontFamily:"'Segoe UI'"},"8"))),C||(C=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M113.294 57.25h13.661v9.582h-13.661z"})),N||(N=T.createElement("text",{x:138.138,y:63.821,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:138.138,y:63.821,fontFamily:"'Segoe UI'"},"9"))),j||(j=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M127.224 57.25h13.661v9.582h-13.661z"})),U||(U=T.createElement("text",{x:151.955,y:63.821,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:151.955,y:63.821,fontFamily:"'Segoe UI'"},"10"))),H||(H=T.createElement("path",{fill:"#b3b3b3",stroke:"#323232",strokeWidth:.265,d:"M141.154 57.25h13.661v9.582h-13.661z"})),P||(P=T.createElement("text",{x:166.122,y:63.842,fill:"#2e2e2e",fontFamily:"Arial",fontSize:3.528,strokeWidth:.507,textAnchor:"middle",xmlSpace:"preserve",transform:"translate(-18.006 -.533)"},T.createElement("tspan",{x:166.122,y:63.842,fontFamily:"'Segoe UI'"},"11"))),D||(D=T.createElement("path",{d:"M97.661 22.474V12.338",fill:"none",markerStart:"url(#a)",stroke:"#323232",strokeWidth:.457,transform:"translate(-18.006 -.533)"})))}},5780:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>m,toc:()=>d});var a=r(7462),n=(r(7294),r(3905)),i=r(6238),o=r(2098);const l={title:"Detecting Regression Commits Using git bisect",tags:["engineering"]},s=void 0,m={permalink:"/2023/01/15/detecting-regression-commits-using-git-bisect",source:"@site/blog/2023/01-15-detecting-regression-commits-using-git-bisect/index.mdx",title:"Detecting Regression Commits Using git bisect",description:"Locating the commit that introduced a regression, or some undesirable change, in a codebase can be difficult. Locating the same in a frequently-changing codebase with a large number of contributors is harder again.",date:"2023-01-15T00:00:00.000Z",formattedDate:"January 15, 2023",tags:[{label:"engineering",permalink:"/tags/engineering"}],readingTime:1.47,hasTruncateMarker:!1,authors:[],frontMatter:{title:"Detecting Regression Commits Using git bisect",tags:["engineering"]},prevItem:{title:"Image Noise Reduction Using DxO PhotoLab",permalink:"/2023/01/25/image-noise-reduction-using-dxo-photolab"}},c={authorsImageUrls:[]},d=[],f={toc:d};function h(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},f,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Locating the commit that introduced a regression, or some undesirable change, in a codebase can be difficult. Locating the same in a frequently-changing codebase with a large number of contributors is harder again."),(0,n.kt)("p",null,"Fortunately ",(0,n.kt)("a",{parentName:"p",href:"https://git-scm.com/docs/git-bisect"},(0,n.kt)("inlineCode",{parentName:"a"},"git bisect"))," provides a helpful tool for doing precisely this. Rather than performing a linear search of the commits, ",(0,n.kt)("inlineCode",{parentName:"p"},"git bisect")," uses a clever binary search algorithm to locate the offending commit far more efficiently."),(0,n.kt)("div",{class:"center with-margin"},(0,n.kt)(i.Z,{className:o.Z.bisect,mdxType:"VisualisationSvg"})),(0,n.kt)("p",null,"Having identified a commit from the past where the regression did not exist (e.g. ",(0,n.kt)("inlineCode",{parentName:"p"},"git checkout")," a commit from say a month ago), my typical usage of ",(0,n.kt)("inlineCode",{parentName:"p"},"git bisect")," is along the lines of:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Check out the branch containing the regression and run ",(0,n.kt)("inlineCode",{parentName:"li"},"git bisect start"),"."),(0,n.kt)("li",{parentName:"ol"},"Label the good and bad commits: ",(0,n.kt)("inlineCode",{parentName:"li"},"git bisect good <commit hash>")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"git bisect bad <commit hash>"),". The current commit is taken if the commit hash argument is omitted."),(0,n.kt)("li",{parentName:"ol"},"Bisecting commences \u2014 a candidate commit is automatically checked out and the number of revisions left to test and number of remaining steps are printed.  You can run ",(0,n.kt)("inlineCode",{parentName:"li"},"git bisect reset")," to abort at any stage."),(0,n.kt)("li",{parentName:"ol"},"Check whether the regression still exists, whether this involves running an automated test or taking manual replication steps. If the candidate commit contains the regression, run ",(0,n.kt)("inlineCode",{parentName:"li"},"git bisect bad"),", otherwise run ",(0,n.kt)("inlineCode",{parentName:"li"},"git bisect good"),". If any search area remains, another candidate commit is automatically checked out."),(0,n.kt)("li",{parentName:"ol"},"Repeat #4 until the bisecting process concludes and the bad commit's hash is listed.")),(0,n.kt)("p",null,"Given ",(0,n.kt)("inlineCode",{parentName:"p"},"git bisect"),"'s binary search technique, the number of steps required will only increase logarithmically as the number of commits increases \u2014 this is a time-saving tool that I turn to again and again."))}h.isMDXComponent=!0},2098:(e,t,r)=>{r.d(t,{Z:()=>a});const a={bisect:"bisect_xRd9"}}}]);